<!-- detalle_tarea.html -->
{% extends 'myapp/base.html' %}

{% block title %}Detalles de la Tarea{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1>Detalles de la Tarea: {{ tarea.nombre }}</h1>
    <p><strong>DescripciÃ³n:</strong> {{ tarea.descripcion }}</p>
    <p><strong>Fecha LÃ­mite:</strong> {{ tarea.fecha_limite }}</p>
    <p><strong>Asignada a:</strong> {{ tarea.asignada_a.username }}</p>
    <p><strong>Completada:</strong> {{ tarea.completada }}</p>
    
    <h2>Subtareas</h2>
    <ul>
        {% for subtarea in subtareas %}
        <li>{{ subtarea.nombre }} - {{ subtarea.descripcion }} - {{ subtarea.fecha_limite }} - Completada: {{ subtarea.completada }}</li>
        {% endfor %}
    </ul>
    <a href="{% url 'agregar_subtarea' tarea.id %}" class="btn btn-primary">Agregar Subtarea</a>
    
    <h2>Seguimientos</h2>
    <ul>
        {% for seguimiento in seguimientos %}
        <li>{{ seguimiento.comentario }} - {{ seguimiento.fecha }}</li>
        {% endfor %}
    </ul>
    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-primary">Agregar Seguimiento</button>
    </form>
    
    <a href="{% url 'editar_tarea' tarea.id %}" class="btn btn-primary">Editar Tarea</a>
    <a href="{% url 'eliminar_tarea' tarea.id %}" class="btn btn-danger">Eliminar Tarea</a>
</div>
{% endblock %}
